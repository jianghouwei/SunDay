FeSwfupload = function (config,swfu) {
	var swfu=swfu;
	swfid = config.id || "";
	var path = "/js39/swfupload/";
	
	var defaults = {
		flash_url:path + "swfupload.swf",
		flash9_url:path + "swfupload_fp9.swf",
		upload_url:"/AttachmentServlet39?actionType=upload",
		file_size_limit:"20 MB", 
		file_types:"*.jpg;*.jpeg;*.png;*.gif;*.bmp;*.rar;*.zip;*.doc;*.docx;*.xls;*.xlsx;*.txt;*.log;*.7z;*.pdf;*.ppt;*.pptx;", 
		file_types_description:"All Files", 
		file_upload_limit:0, 
		post_params:{}, 
		file_queue_limit:0, 
		debug:false, 
		button_width:"80", 
		button_height:"30", 
		button_placeholder_id:"spanButtonPlaceHolder", 
		button_image_url:"/css39/images/swfupload/btn_appendix.png", 
		button_text:"\u4e0a\u4f20\u6587\u4ef6", 
		button_text_style:"",
		button_text_left_padding:10, 
		button_disabled:false,
		button_cursor:SWFUpload.CURSOR.HAND, 
		button_action:SWFUpload.BUTTON_ACTION.SELECT_FILES, 
		button_text_top_padding:0,
		button_window_mode : SWFUpload.WINDOW_MODE.TRANSPARENT,
		swfupload_preload_handler:preLoad, 
		swfupload_load_failed_handler:loadFailed, 
		file_queued_handler:fileQueued, 
		file_queue_error_handler:fileQueueError,
		file_dialog_start_handler : fileDialogStart,
		file_dialog_complete_handler: fileDialogComplete, 
		upload_start_handler:uploadStart, 
		upload_progress_handler:uploadProgress,
		upload_error_handler:uploadError, 
		upload_success_handler:uploadSuccess, 
		upload_complete_handler:uploadComplete, 
		queue_complete_handler:queueComplete};
	var opts = $.extend({}, defaults, config);
	swfu=new SWFUpload(opts);
	var fileSizeLimit = !opts.file_size_limit ? "\u5355\u6587\u4ef6\u5927\u5c0f\u65e0\u9650\u5236" : "\u5355\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7<span class='color_red'>" + opts.file_size_limit + "</span>";
	$("div#"+swfid+"progress_bar_outside").data("totalFileSize", 0);
	$("div#"+swfid+"progress_bar_outside").data("bytesLoaded", 0);
	$("span#"+swfid+"welcome").append(fileSizeLimit);
};

